@layer base {
  @media (max-width: 640px) {
    /* Improved base styles */
    html {
      font-size: 14px;
      -webkit-text-size-adjust: 100%;
    }

    body {
      overscroll-behavior-y: none;
    }

    /* Better container handling */
    .container {
      @apply px-4 max-w-[100vw] w-full mx-auto;
    }

    /* Improved touch targets */
    button, 
    [role="button"],
    input,
    select,
    textarea {
      @apply min-h-[44px] min-w-[44px];
    }

    /* Better spacing for mobile */
    .mobile-spacing {
      @apply space-y-4;
    }

    /* Prevent text overflow */
    h1, h2, h3, h4, h5, h6, p {
      @apply break-words;
    }

    /* Improved form elements for mobile */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    textarea {
      @apply w-full py-3 px-4;
      font-size: 16px; /* Prevents iOS zoom */
    }

    /* Better table handling on mobile */
    table {
      @apply block w-full overflow-x-auto -mx-4 px-4;
      max-width: 100vw;
    }

    /* Card adjustments for mobile */
    .card {
      @apply mx-auto max-w-[calc(100vw-2rem)];
    }

    /* Grid adjustments */
    .grid {
      @apply gap-4;
    }

    /* Loading states */
    .loading-skeleton {
      @apply animate-pulse bg-gray-200;
    }

    /* Image optimizations */
    img {
      @apply w-auto max-w-full h-auto;
      content-visibility: auto;
    }

    /* Enhanced touch feedback */
    .touch-feedback:active {
      @apply bg-gray-100/50 transition-colors duration-200;
    }

    /* Improved scrolling */
    .scroll-container {
      @apply overflow-auto overscroll-contain;
      -webkit-overflow-scrolling: touch;
    }
  }
}