@layer base {
  /* Base optimizations for slow connections */
  :root {
    --content-visibility: auto;
    --image-rendering: auto;
  }

  /* Content loading optimizations */
  img, video {
    content-visibility: var(--content-visibility);
    image-rendering: var(--image-rendering);
  }

  /* Reduce layout shifts */
  img, video, iframe {
    @apply aspect-video;
  }

  /* Improved performance for animations */
  * {
    @apply motion-reduce:transform-none motion-reduce:transition-none;
  }

  /* Better font loading */
  body {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Reduce initial paint time */
  .defer-load {
    content-visibility: auto;
    contain-intrinsic-size: 0 500px;
  }
}